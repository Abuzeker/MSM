{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tzika\\\\Desktop\\\\MSM-Front\\\\MSM\\\\src\\\\DataRequest\\\\LogDataRequestWrap.js\";\nimport { Button } from 'antd';\nimport moment from 'moment';\nimport XlsxPopulate from 'xlsx-populate';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TableColumbTimeAsRow = () => {\n  let Columb = [];\n  let TimeRow = [];\n\n  for (let i = 0; i < 24; i++) {\n    let n;\n    i < 10 ? n = `0${i}` : n = i;\n    TimeRow.push(`${n}:00`);\n  }\n\n  Columb.push({\n    title: 'Parameter',\n    width: 100,\n    dataIndex: 'Parameter',\n    key: 'Parameter',\n    fixed: 'left',\n    align: 'center'\n  });\n  TimeRow.forEach(element => {\n    Columb.push({\n      title: element,\n      width: 70,\n      dataIndex: element,\n      key: element,\n      align: 'center'\n    });\n  });\n  return Columb;\n};\n_c = TableColumbTimeAsRow;\nexport const TableColumbLabelAsRowG2 = (Datamodel, InputBagCallBack) => {\n  let Columb = [];\n  Columb.push({\n    title: 'Time',\n    width: 60,\n    dataIndex: 'Time',\n    key: 'Time',\n    fixed: 'left',\n    align: 'center'\n  });\n  const name = Object.keys(Datamodel);\n  name.forEach(element => {\n    Columb.push({\n      title: element,\n      width: 70,\n      dataIndex: element,\n      key: element,\n      align: 'center'\n    });\n  });\n  Columb.push({\n    title: 'View',\n    width: 60,\n    dataIndex: 'View',\n    key: 'View',\n    align: 'center',\n    render: (text, record, index) => /*#__PURE__*/_jsxDEV(Button, {\n      onClick: e => {\n        InputBagCallBack(record);\n      },\n      children: \" Click \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 46\n    }, this)\n  }); //console.log(Columb);\n\n  return Columb;\n};\n_c2 = TableColumbLabelAsRowG2;\nexport const TableColumbLabelAsRow = Datamodel => {\n  let Columb = [];\n  Columb.push({\n    title: 'Time',\n    width: 60,\n    dataIndex: 'Time',\n    key: 'Time',\n    fixed: 'left',\n    align: 'center'\n  });\n  const name = Object.keys(Datamodel);\n  name.forEach(element => {\n    Columb.push({\n      title: element,\n      width: 70,\n      dataIndex: element,\n      key: element,\n      align: 'center'\n    });\n  }); //console.log(Columb);\n\n  return Columb;\n};\n_c3 = TableColumbLabelAsRow;\nexport const TableColumbJob = (Datamodel, Viewhandler, DeleteHandler, line, page, button1name, button2name) => {\n  let Columb = [];\n  const name = Object.keys(Datamodel);\n  name.forEach(element => {\n    Columb.push({\n      title: element,\n      width: 70,\n      dataIndex: element,\n      key: element,\n      align: 'center'\n    });\n  });\n  Columb.push({\n    title: `${button1name}`,\n    width: 60,\n    dataIndex: 'View',\n    key: 'View',\n    align: 'center',\n    render: (text, record, index) => /*#__PURE__*/_jsxDEV(Button, {\n      onClick: e => {\n        Viewhandler(record);\n      },\n      children: \" Click \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 46\n    }, this)\n  });\n  Columb.push({\n    title: `${button2name}`,\n    width: 60,\n    dataIndex: 'Delete',\n    key: 'Delete',\n    align: 'center',\n    render: (text, record, index) => /*#__PURE__*/_jsxDEV(Button, {\n      onClick: e => {\n        DeleteHandler(record, line, page);\n      },\n      children: [\" \", button2name, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 46\n    }, this)\n  }); //console.log(Columb);\n\n  return Columb;\n};\n_c4 = TableColumbJob;\nexport const TableColumbJobtest = (Datamodel, Viewhandler, DeleteHandler, EditHandler, line, page, button1name, button2name, button3name) => {\n  let Columb = [];\n  const name = Object.keys(Datamodel);\n  name.forEach(element => {\n    Columb.push({\n      title: element,\n      width: 70,\n      dataIndex: element,\n      key: element,\n      align: 'center'\n    });\n  });\n  Columb.push({\n    title: `${button1name}`,\n    width: 60,\n    dataIndex: 'View',\n    key: 'View',\n    align: 'center',\n    render: (text, record, index) => /*#__PURE__*/_jsxDEV(Button, {\n      onClick: e => {\n        Viewhandler(record);\n      },\n      children: \" Click \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 46\n    }, this)\n  });\n  Columb.push({\n    title: `${button2name}`,\n    width: 60,\n    dataIndex: 'Delete',\n    key: 'Delete',\n    align: 'center',\n    render: (text, record, index) => /*#__PURE__*/_jsxDEV(Button, {\n      onClick: e => {\n        DeleteHandler(record, line, page);\n      },\n      children: [\" \", button2name, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 46\n    }, this)\n  });\n  Columb.push({\n    title: `${button3name}`,\n    width: 60,\n    dataIndex: 'Edit',\n    key: 'Edit',\n    align: 'center',\n    render: (text, record, index) => /*#__PURE__*/_jsxDEV(Button, {\n      onClick: e => {\n        EditHandler(record);\n      },\n      children: [\" \", button3name, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 50\n    }, this)\n  }); //console.log(Columb);\n\n  return Columb;\n};\n_c5 = TableColumbJobtest;\nexport const TableColumbJobHome = (Datamodel, line, page, button1name, button2name) => {\n  let Columb = [];\n  Columb.push({\n    title: 'Line',\n    width: 70,\n    dataIndex: 'Line',\n    key: 'Line',\n    align: 'center'\n  });\n  const name = Object.keys(Datamodel);\n  name.forEach(element => {\n    Columb.push({\n      title: element,\n      width: 70,\n      dataIndex: element,\n      key: element,\n      align: 'center'\n    });\n  }); //console.log(Columb);\n\n  return Columb;\n}; //offset initial date from today and offset ending date by today\n\n_c6 = TableColumbJobHome;\nexport const GetDateTime = (OffsetInitialDay, OffsetDayEnd) => {\n  let DateTimeArray = [];\n  let separator = '-';\n  let today = new Date();\n  let tomorrow = new Date(today);\n  tomorrow.setDate(tomorrow.getDate() + OffsetDayEnd);\n  today.setDate(today.getDate() - OffsetInitialDay);\n  let date1 = today.getDate();\n  let month1 = today.getMonth() + 1;\n  let year1 = today.getFullYear();\n  let date2 = tomorrow.getDate();\n  let month2 = tomorrow.getMonth() + 1;\n  let year2 = tomorrow.getFullYear();\n  let Start_time = `${year1}${separator}${month1 < 10 ? `0${month1}` : `${month1}`}${separator}${date1} 00:00:00`;\n  let End_time = `${year2}${separator}${month2 < 10 ? `0${month2}` : `${month2}`}${separator}${date2} 00:00:00`;\n  DateTimeArray[0] = moment(Start_time).toISOString(false).split('.')[0] + \"Z\";\n  DateTimeArray[1] = moment(End_time).toISOString(false).split('.')[0] + \"Z\";\n  DateTimeArray[2] = Start_time;\n  DateTimeArray[3] = End_time;\n  return DateTimeArray;\n};\n_c7 = GetDateTime;\nexport const SetDateRange = datetime => {\n  let DateTime = [];\n  let ReturnDT = []; //convert datepicker value to Z format\n\n  DateTime[0] = moment(datetime, \"DD-MM-YYYY\").subtract(1, 'days');\n  DateTime[1] = datetime; //moment(datetime, \"DD-MM-YYYY\").add(1, 'days');\n\n  ReturnDT[0] = DateTime[0].toISOString(false).split('T')[0] + \"T16:00:00Z\";\n  ReturnDT[1] = DateTime[1].toISOString(false).split('T')[0] + \"T15:00:00Z\"; //console.log(ReturnDT)\n\n  return ReturnDT;\n}; //convert datetimepicker value to Z format\n\n_c8 = SetDateRange;\nexport const ConvertMonentToDateTime = momentDateTime => {\n  let DateTimeReturn = [];\n\n  try {\n    DateTimeReturn[0] = momentDateTime[0].toISOString(false).split('.')[0] + \"Z\";\n    DateTimeReturn[1] = momentDateTime[1].toISOString(false).split('.')[0] + \"Z\";\n  } catch {}\n\n  return DateTimeReturn;\n}; //convert datetimepicker value to Z format\n\n_c9 = ConvertMonentToDateTime;\nexport const ConvertMonentToDateTimeSingle = momentDateTime => {\n  let DateTimeReturn;\n\n  try {\n    DateTimeReturn = momentDateTime.toISOString(false).split('.')[0] + \"Z\";\n  } catch {}\n\n  return DateTimeReturn;\n};\n_c10 = ConvertMonentToDateTimeSingle;\nexport const DataSortTime = response => {\n  let DataReturn;\n\n  if (response.success === true) {\n    const data = response.data;\n    DataReturn = data.map(obj => {\n      let cobj = [];\n      let date_new = moment(obj.fields.DateCreated);\n      let DateComponent = date_new.utc(true).format('DD-MM-YYYY HH:mm:ss');\n      let TimeComponent = date_new.utc(true).format('HH:mm:ss');\n      let ar0 = TimeComponent.split(':');\n      let ar1 = ar0[0] + ':' + ar0[1]; // let SV = obj.fields.\n\n      cobj = {\n        'key': `${obj.fields.Parameter}  ${DateComponent}`,\n        'time': ar1,\n        'date': DateComponent,\n        'Parameter': obj.fields.Parameter,\n        'Value': parseFloat(obj.fields.Value)\n      };\n      return cobj;\n    }); //console.log(DataReturn);\n  } else {// console.log(response)\n    }\n\n  return DataReturn;\n};\n_c11 = DataSortTime;\nexport const ReportSort = response => {\n  let DataReturn;\n\n  if (response.success === true) {\n    const data = response.data;\n    DataReturn = data.map(obj => {\n      let cobj = [];\n      let DateTime_Start = moment(obj.fields.DateTime_Start).utc(true).format('DD-MM-YYYY HH:mm:ss');\n      let DateTime_End = moment(obj.fields.DateTime_End).utc(true).format('DD-MM-YYYY HH:mm:ss'); // let ar0 = TimeComponent.split(':')\n      // let ar1 = ar0[0] + ':' + ar0[1]\n\n      cobj = {\n        'key': obj.fields.Info1,\n        'Line': obj.fields.Line,\n        'Start Time': DateTime_Start,\n        'End Time': DateTime_End,\n        'Job No': obj.fields.Info1,\n        'Grade': obj.fields.Info2,\n        'Color': obj.fields.Info3,\n        'Estimated Rate': obj.fields.Info4,\n        'Actual Product': obj.fields.Info5\n      };\n      return cobj;\n    }); //console.log(DataReturn);\n  } else {\n    console.log(response);\n  }\n\n  return DataReturn;\n};\n_c12 = ReportSort;\nexport const LogDataMappingTime = (Datamodel, RawData) => {\n  const name = Object.keys(Datamodel);\n  let ReturnValue = [];\n  let bufferModel = {};\n  bufferModel.Parameter = 0;\n\n  for (let i = 0; i < 24; i++) {\n    let n;\n    i < 10 ? n = `0${i}` : n = i;\n    bufferModel[`${n}:00`] = 0;\n  }\n\n  name.forEach(element => {\n    let Buffer = {};\n    Object.assign(Buffer, bufferModel);\n    Buffer.Parameter = element;\n    RawData.forEach(element2 => {\n      if (element2.Parameter === element) {\n        Buffer[element2.time] = element2.Value;\n        Buffer['key'] = element2.Parameter;\n      }\n    });\n    ReturnValue.push(Buffer);\n  });\n  return ReturnValue;\n};\n_c13 = LogDataMappingTime;\nexport const LogDataMappingName = (Datamodel, RawData) => {\n  const name = Object.keys(Datamodel);\n  let prevtime = [],\n      period = \"\",\n      ReturnValue = [];\n\n  const parasearch = item => {\n    if (item.date === period) {\n      return true;\n    }\n\n    return false;\n  };\n\n  RawData.forEach(element => {\n    if (element.date === prevtime) {} else {\n      prevtime = element.date;\n      period = element.date;\n      let data_buf3 = {};\n      name.forEach(element => {\n        data_buf3[element] = 0;\n      });\n      let data_buf2 = RawData.filter(parasearch);\n      data_buf2.map(obj => {\n        data_buf3['key'] = obj.date;\n        data_buf3['Time'] = obj.date;\n        data_buf3['time'] = obj.time;\n        data_buf3[obj.Parameter] = obj.Value;\n        return data_buf3;\n      });\n      ReturnValue.push(data_buf3);\n    }\n  });\n  return ReturnValue;\n};\n_c14 = LogDataMappingName;\nexport const SortToArrayExcel = (DataJson, DataModel) => {\n  console.log(DataJson); // let bufferArray = []\n\n  let bufferArray2 = [];\n  const para = Object.keys(DataJson[1]);\n  const name = Object.keys(DataModel);\n  let ReturnPara = {\n    Array: [],\n    height: 1,\n    width: 1\n  }; // console.log(para);\n  // console.log(name);\n  // bufferArray.push(DataJson[1]['Time'])\n\n  DataJson.forEach(element => {\n    let bufferArray = [];\n    bufferArray.push(element['Time']);\n    name.forEach(element1 => {\n      para.forEach(element2 => {\n        // console.log('new');\n        // console.log(element1);\n        // console.log(element2);\n        let number;\n\n        if (element2 === element1) {\n          try {\n            //console.log(element2);\n            number = parseFloat(element[element2]);\n          } catch {\n            console.log('error');\n            number = parseFloat(0);\n          } //console.log(LogValue['LogC3'][1][element2])\n\n\n          bufferArray.push(number);\n        }\n      });\n    });\n    bufferArray2.push(bufferArray);\n  });\n  ReturnPara.Array = bufferArray2;\n  ReturnPara.height = bufferArray2.length;\n  ReturnPara.width = bufferArray2[0].length;\n  return ReturnPara;\n};\n_c15 = SortToArrayExcel;\nexport const ExportExcelWorkBook = (DataJson, DataModel, startCol, startRow, endCol, endRow, FileName, JobInfo, Cell) => {\n  fetch(FileName).then(res => res.arrayBuffer()).then(buffer => {\n    XlsxPopulate.fromDataAsync(buffer).then(workbook => {\n      // r = workbook.sheet(0).cell(\"A8\").value(\"foo\");\n      let setting = SortToArrayExcel(DataJson, DataModel);\n      const r = workbook.sheet(0).range(`${startCol}${startRow}:${endCol}${endRow + setting.height}`);\n      const Jobname = workbook.sheet(0).cell(Cell[0]).value(`Job No: ${JobInfo.Info1}`);\n      const Grade = workbook.sheet(0).cell(Cell[1]).value(`Grade: ${JobInfo.Info5}`);\n      const Colour = workbook.sheet(0).cell(Cell[2]).value(`Colour: ${JobInfo.Info4}`);\n      const Start = workbook.sheet(0).cell(Cell[3]).value(`Start: ${JobInfo.Info2}`);\n      const End = workbook.sheet(0).cell(Cell[4]).value(`End: ${JobInfo.Info3}`);\n      r.value(setting.Array);\n      workbook.outputAsync().then(function (blob) {\n        if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n          window.navigator.msSaveOrOpenBlob(blob, \"out.xlsx\");\n        } else {\n          var url = window.URL.createObjectURL(blob);\n          var a = document.createElement(\"a\");\n          document.body.appendChild(a);\n          a.href = url;\n          a.download = FileName;\n          a.click();\n          window.URL.revokeObjectURL(url);\n          document.body.removeChild(a);\n        }\n      });\n    }).catch(err => console.error(err));\n  });\n};\n_c16 = ExportExcelWorkBook;\nexport const FilterOutEndedJob = JobList => {\n  let FilterJob = [];\n  const Current = new Date();\n  const NowTime = new Date(moment(Current, \"DD-MM-YYYY HH:mm:ss\").toISOString(false)); //when wan to change datetime from (new dete()) to the usual view\n  // const NowTime2 = moment(Current, \"DD-MM-YYYY HH:mm:ss\").toISOString(false)\n\n  JobList.forEach(element => {\n    try {\n      let DateBuf = new Date(moment(element['End Time'], \"DD-MM-YYYY HH:mm:ss\").toISOString(false));\n      console.log(NowTime);\n      console.log(DateBuf); // console.log(new Date(moment(element['End Time'], \"DD-MM-YYYY HH:mm:ss\").toISOString(false)));\n\n      if (DateBuf > NowTime) {\n        console.log('got');\n        FilterJob.push(element);\n      } else {\n        console.log('not');\n      }\n    } catch {}\n  });\n  return FilterJob;\n};\n_c17 = FilterOutEndedJob;\nexport const VisualizeLogColumb = DataOption => {\n  let data_filter = DataOption.map(obj => {\n    let cobj = [];\n    cobj = {\n      text: obj,\n      value: obj\n    };\n    return cobj;\n  });\n\n  const parseDMYhm = s => {\n    var b = s.split(/\\D/);\n    return new Date(b[2], b[1] - 1, b[2], b[3], b[4]);\n  };\n\n  const columns = [{\n    title: 'Parameter',\n    dataIndex: 'Parameter',\n    filters: data_filter,\n    filterMode: 'tree',\n    filterSearch: true,\n    onFilter: (value, record) => record.Parameter.includes(value),\n    width: '30%'\n  }, {\n    title: 'Value',\n    dataIndex: 'Value',\n    sorter: (a, b) => a.Value - b.Value\n  }, {\n    title: 'time',\n    dataIndex: 'time',\n    sorter: (a, b) => parseDMYhm(a.time) - parseDMYhm(b.time)\n  }];\n  return columns;\n};\n_c18 = VisualizeLogColumb;\nexport const DataSortTimeMcG = response => {\n  let DataReturn = [];\n  console.log(response);\n\n  if (response.success === true) {\n    const data = response.data;\n    let i = 0;\n    DataReturn = data.map(obj => {\n      let cobj = [];\n      let date_new = moment(obj.fields.DateCreated);\n      let DateComponent = date_new.utc(true).format('DD-MM-YYYY HH:mm:ss');\n      let TimeComponent = date_new.utc(true).format('HH:mm:ss');\n      let ar0 = TimeComponent.split(':');\n      let ar1 = ar0[0] + ':' + ar0[1]; // let SV = obj.fields.\n\n      cobj = {\n        'key': i++,\n        'time': ar1,\n        'date': DateComponent,\n        'Parameter': obj.fields.Parameter,\n        'Value': obj.fields.Value\n      };\n      return cobj;\n    }); // console.log(DataReturn);\n  } else {// console.log(response)\n    }\n\n  return DataReturn;\n};\n_c19 = DataSortTimeMcG;\nexport const LogDataMappingTimeMcG = (Datamodel, RawData) => {\n  const name = Object.keys(Datamodel);\n  let ReturnValue = [];\n  let bufferModel = {};\n  let TimeColumb = [];\n  let prevdate = '';\n  bufferModel.Parameter = 0;\n  RawData.forEach(element => {\n    if (element.date !== prevdate) {\n      TimeColumb.push(element.date);\n      prevdate = element.date;\n    }\n  }); // console.log(TimeColumb);\n\n  name.forEach(element => {\n    let Buffer = {};\n    Object.assign(Buffer, bufferModel);\n    Buffer.Parameter = element;\n    RawData.forEach(element2 => {\n      if (element2.Parameter === element) {\n        Buffer[element2.time] = element2.Value;\n        Buffer['key'] = element2.key;\n      }\n    });\n    ReturnValue.push(Buffer);\n  });\n  console.log(ReturnValue);\n  return ReturnValue;\n};\n_c20 = LogDataMappingTimeMcG;\nexport const LogDataMappingNameRT = (Datamodel, RawData) => {\n  const name = Object.keys(Datamodel);\n  let prevtime = [],\n      period = \"\",\n      ReturnValue = [];\n\n  const parasearch = item => {\n    if (item.date === period) {\n      return true;\n    }\n\n    return false;\n  };\n\n  RawData.forEach(element => {\n    if (element.date === prevtime) {} else {\n      prevtime = element.date;\n      period = element.date;\n      let data_buf3 = {};\n      name.forEach(element => {\n        data_buf3[element] = 0;\n      });\n      let data_buf2 = RawData.filter(parasearch);\n      data_buf2.map(obj => {\n        data_buf3['key'] = obj.date;\n        data_buf3['Time'] = obj.date;\n        data_buf3['time'] = obj.time;\n        data_buf3[obj.Label] = obj.Value;\n        return data_buf3;\n      });\n      ReturnValue.push(data_buf3);\n    }\n  });\n  return ReturnValue;\n};\n_c21 = LogDataMappingNameRT;\nexport const FilterByName = (TargetName, RawData) => {\n  let DataReturn;\n  DataReturn = RawData.map(obj => {\n    let DataObjBuf = {};\n    DataObjBuf = {\n      'Time': obj['Time'],\n      'Feeder Speed': obj[TargetName],\n      'State': obj[TargetName] > 10 ? 1 : 0\n    };\n    return DataObjBuf;\n  });\n  return DataReturn;\n};\n_c22 = FilterByName;\n\nconst CalculateTiming = (ProductperHour, RawData) => {};\n\n_c23 = CalculateTiming;\nexport const FilterOutExcessTime = RawData => {\n  let ReturnData = [];\n  RawData.forEach(element => {\n    let ConditionBuf = element['Time'].split(' ')[1].split(':')[1];\n\n    if (ConditionBuf === '00') {\n      ReturnData.push(element);\n    }\n  });\n  return ReturnData;\n};\n_c24 = FilterOutExcessTime;\nexport const TimeInterval = (StartTime, EndTime) => {\n  var startTime = moment(StartTime, \"DD-MM-YYYY HH:mm:ss\").toISOString(false).split('.')[0] + \"Z\";\n  var endTime = moment(EndTime, \"DD-MM-YYYY HH:mm:ss\").toISOString(false).split('.')[0] + \"Z\"; //   let s =  ConvertMonentToDateTime(test)\n\n  let a = moment(startTime);\n  let b = moment(endTime);\n  var durationDay = b.diff(a, 'days');\n  var durationHour = b.diff(a, 'hours');\n  durationHour = durationHour % 24;\n  var durationMinutes = b.diff(a, 'minutes');\n  durationMinutes = durationMinutes % 60;\n  let TotalDuration = {\n    Day: durationDay,\n    Hours: durationHour,\n    Minutes: durationMinutes\n  }; // console.log(s);\n  // console.log(`${durationDay} Days ${durationHour} Hours  ${durationMinutes} Minutes `);\n\n  return TotalDuration;\n};\n_c25 = TimeInterval;\nexport const DateDisplay = () => {\n  let DateToday = new Date();\n  let date = DateToday.getDate();\n  let month = DateToday.getMonth() + 1;\n  let year = DateToday.getFullYear();\n  let DateTime = date + '/' + month + '/' + year;\n  return DateTime;\n};\n_c26 = DateDisplay;\nexport const DataSortTimeMSM = response => {\n  let DataReturn;\n\n  if (response.success === true) {\n    const data = response.data;\n    DataReturn = data.map(obj => {\n      let cobj = [];\n      let date_new = moment(obj.fields.date_created);\n      let DateComponent = date_new.utc(true).format('DD/MM/YYYY HH:mm:ss');\n      let TimeComponent = date_new.utc(true).format('HH:mm:ss');\n      let Date = date_new.utc(true).format('DD/MM/YYYY'); // let SV = obj.fields.\n\n      cobj = {\n        'key': `${obj.fields.parameter}  ${DateComponent}`,\n        'date': DateComponent,\n        'DateTime': DateComponent,\n        'Parameter': obj.fields.parameter,\n        'Value': parseFloat(obj.fields.value),\n        'type': obj.fields.parameter\n      };\n      return cobj;\n    });\n    console.log(DataReturn);\n  } else {// console.log(response)\n  }\n\n  return DataReturn;\n};\n_c27 = DataSortTimeMSM;\nexport const LogDataMappingTimeMSM = (Datamodel, RawData) => {\n  const name = Object.keys(Datamodel);\n  let ReturnValue = [];\n  let bufferModel = {};\n  bufferModel.Parameter = 0;\n\n  for (let i = 0; i < 24; i++) {\n    let n;\n    i < 10 ? n = `0${i}` : n = i;\n    bufferModel[`${n}:00`] = 0;\n  }\n\n  name.forEach(element => {\n    let Buffer = {};\n    Object.assign(Buffer, bufferModel);\n    Buffer.Parameter = element;\n    RawData.forEach(element2 => {\n      if (element2.Parameter === element) {\n        Buffer[element2.time] = element2.Value;\n        Buffer['key'] = element2.Parameter;\n      }\n    });\n    ReturnValue.push(Buffer);\n  });\n  return ReturnValue;\n};\n_c28 = LogDataMappingTimeMSM;\nexport const LogDataMappingNameMSM = (Datamodel, RawData) => {\n  const name = Object.keys(Datamodel);\n  let prevtime = [],\n      period = \"\",\n      ReturnValue = [];\n\n  const parasearch = item => {\n    if (item.date === period) {\n      return true;\n    }\n\n    return false;\n  };\n\n  RawData.forEach(element => {\n    if (element.date === prevtime) {} else {\n      prevtime = element.date;\n      period = element.date;\n      let data_buf3 = {};\n      name.forEach(element => {\n        data_buf3[element] = 0;\n      });\n      let data_buf2 = RawData.filter(parasearch);\n      data_buf2.map(obj => {\n        data_buf3['DateTime'] = obj.date;\n        data_buf3[obj.Parameter] = obj.Value;\n        return data_buf3;\n      });\n      console.log(data_buf3);\n      ReturnValue.push(data_buf3);\n    }\n  });\n  return ReturnValue;\n};\n_c29 = LogDataMappingNameMSM;\nexport const EventSortTimeMSM = response => {\n  let DataReturn;\n\n  if (response.success === true) {\n    const data = response.data;\n    DataReturn = data.map(obj => {\n      let cobj = [];\n      let date_new = moment(obj.fields.date_created);\n      let DateComponent = date_new.utc(true).format('DD/MM/YYYY HH:mm:ss');\n      let Date = date_new.utc(true).format('DD/MM/YYYY');\n      let TimeComponent = date_new.utc(true).format('HH:mm:ss');\n      let ar0 = TimeComponent.split(':');\n      let ar1 = ar0[0] + ':' + ar0[1];\n      let tag = Date + '' + TimeComponent + '#' + obj.fields.parameter + 'TBAMSMSGNBLH';\n      let shift = TimeComponent < moment('18:59:59', 'HH:mm:ss') ? \"Morning\" : \"Night\"; // let SV = obj.fields.\n\n      cobj = {\n        'key': `${obj.fields.parameter}  ${DateComponent}`,\n        'DateTime': DateComponent,\n        'IdUnit': parseFloat(obj.fields.value),\n        'Label': obj.fields.parameter,\n        'Value': parseFloat(obj.fields.value),\n        'Weight': 'TBA',\n        'Location': 'MSMSGBLH',\n        'Tag': tag,\n        'Shift': shift\n      };\n      return cobj;\n    }); // console.log(DataReturn);\n  } else {// console.log(response)\n    }\n\n  return DataReturn;\n};\n_c30 = EventSortTimeMSM;\nexport const MSM_Realtime_GetDateTime = (OffsetInitialDay, OffsetDayEnd) => {\n  let DateTimeArray = [];\n  let separator = '-';\n  let today = new Date();\n  let tomorrow = new Date(today);\n  tomorrow.setDate(tomorrow.getDate() + OffsetDayEnd);\n  today.setDate(today.getDate() - OffsetInitialDay);\n  let date1 = today.getDate();\n  let month1 = today.getMonth() + 1;\n  let year1 = today.getFullYear();\n  let date2 = tomorrow.getDate();\n  let month2 = tomorrow.getMonth() + 1;\n  let year2 = tomorrow.getFullYear();\n  let Morning_Start_time = `${year1}${separator}${month1 < 10 ? `0${month1}` : `${month1}`}${separator}${date1} 07:00:00`;\n  let Morning_End_time = `${year2}${separator}${month2 < 10 ? `0${month2}` : `${month2}`}${separator}${date2} 18:59:59`;\n  let Night_Start_time = `${year1}${separator}${month1 < 10 ? `0${month1}` : `${month1}`}${separator}${date1} 19:00:00`;\n  let Night_End_time = `${year2}${separator}${month2 < 10 ? `0${month2}` : `${month2}`}${separator}${date2} 06:59:59`;\n  DateTimeArray[0] = moment(Morning_Start_time).toISOString(false).split('.')[0] + \"Z\";\n  DateTimeArray[1] = moment(Morning_End_time).toISOString(false).split('.')[0] + \"Z\";\n  DateTimeArray[2] = moment(Night_Start_time).toISOString(false).split('.')[0] + \"Z\";\n  DateTimeArray[3] = moment(Night_End_time).toISOString(false).split('.')[0] + \"Z\";\n  return DateTimeArray;\n};\n_c31 = MSM_Realtime_GetDateTime;\nexport const Find_initial_Time = () => {\n  let separator = '-';\n  let Over = false;\n  let today = new Date();\n  let date1 = today.getDate();\n  let month1 = today.getMonth() + 1;\n  let year1 = today.getFullYear();\n  let Start_time = `${year1}${separator}${month1 < 10 ? `0${month1}` : `${month1}`}${separator}${date1} 07:00:00`;\n  let init = new Date(Start_time); // console.log(today);\n  // console.log(init);\n\n  if (today > init) {\n    Over = true;\n  } else {\n    Over = false;\n  }\n\n  return Over;\n};\n_c32 = Find_initial_Time;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26, _c27, _c28, _c29, _c30, _c31, _c32;\n\n$RefreshReg$(_c, \"TableColumbTimeAsRow\");\n$RefreshReg$(_c2, \"TableColumbLabelAsRowG2\");\n$RefreshReg$(_c3, \"TableColumbLabelAsRow\");\n$RefreshReg$(_c4, \"TableColumbJob\");\n$RefreshReg$(_c5, \"TableColumbJobtest\");\n$RefreshReg$(_c6, \"TableColumbJobHome\");\n$RefreshReg$(_c7, \"GetDateTime\");\n$RefreshReg$(_c8, \"SetDateRange\");\n$RefreshReg$(_c9, \"ConvertMonentToDateTime\");\n$RefreshReg$(_c10, \"ConvertMonentToDateTimeSingle\");\n$RefreshReg$(_c11, \"DataSortTime\");\n$RefreshReg$(_c12, \"ReportSort\");\n$RefreshReg$(_c13, \"LogDataMappingTime\");\n$RefreshReg$(_c14, \"LogDataMappingName\");\n$RefreshReg$(_c15, \"SortToArrayExcel\");\n$RefreshReg$(_c16, \"ExportExcelWorkBook\");\n$RefreshReg$(_c17, \"FilterOutEndedJob\");\n$RefreshReg$(_c18, \"VisualizeLogColumb\");\n$RefreshReg$(_c19, \"DataSortTimeMcG\");\n$RefreshReg$(_c20, \"LogDataMappingTimeMcG\");\n$RefreshReg$(_c21, \"LogDataMappingNameRT\");\n$RefreshReg$(_c22, \"FilterByName\");\n$RefreshReg$(_c23, \"CalculateTiming\");\n$RefreshReg$(_c24, \"FilterOutExcessTime\");\n$RefreshReg$(_c25, \"TimeInterval\");\n$RefreshReg$(_c26, \"DateDisplay\");\n$RefreshReg$(_c27, \"DataSortTimeMSM\");\n$RefreshReg$(_c28, \"LogDataMappingTimeMSM\");\n$RefreshReg$(_c29, \"LogDataMappingNameMSM\");\n$RefreshReg$(_c30, \"EventSortTimeMSM\");\n$RefreshReg$(_c31, \"MSM_Realtime_GetDateTime\");\n$RefreshReg$(_c32, \"Find_initial_Time\");","map":{"version":3,"sources":["C:/Users/tzika/Desktop/MSM-Front/MSM/src/DataRequest/LogDataRequestWrap.js"],"names":["Button","moment","XlsxPopulate","TableColumbTimeAsRow","Columb","TimeRow","i","n","push","title","width","dataIndex","key","fixed","align","forEach","element","TableColumbLabelAsRowG2","Datamodel","InputBagCallBack","name","Object","keys","render","text","record","index","e","TableColumbLabelAsRow","TableColumbJob","Viewhandler","DeleteHandler","line","page","button1name","button2name","TableColumbJobtest","EditHandler","button3name","TableColumbJobHome","GetDateTime","OffsetInitialDay","OffsetDayEnd","DateTimeArray","separator","today","Date","tomorrow","setDate","getDate","date1","month1","getMonth","year1","getFullYear","date2","month2","year2","Start_time","End_time","toISOString","split","SetDateRange","datetime","DateTime","ReturnDT","subtract","ConvertMonentToDateTime","momentDateTime","DateTimeReturn","ConvertMonentToDateTimeSingle","DataSortTime","response","DataReturn","success","data","map","obj","cobj","date_new","fields","DateCreated","DateComponent","utc","format","TimeComponent","ar0","ar1","Parameter","parseFloat","Value","ReportSort","DateTime_Start","DateTime_End","Info1","Line","Info2","Info3","Info4","Info5","console","log","LogDataMappingTime","RawData","ReturnValue","bufferModel","Buffer","assign","element2","time","LogDataMappingName","prevtime","period","parasearch","item","date","data_buf3","data_buf2","filter","SortToArrayExcel","DataJson","DataModel","bufferArray2","para","ReturnPara","Array","height","bufferArray","element1","number","length","ExportExcelWorkBook","startCol","startRow","endCol","endRow","FileName","JobInfo","Cell","fetch","then","res","arrayBuffer","buffer","fromDataAsync","workbook","setting","r","sheet","range","Jobname","cell","value","Grade","Colour","Start","End","outputAsync","blob","window","navigator","msSaveOrOpenBlob","url","URL","createObjectURL","a","document","createElement","body","appendChild","href","download","click","revokeObjectURL","removeChild","catch","err","error","FilterOutEndedJob","JobList","FilterJob","Current","NowTime","DateBuf","VisualizeLogColumb","DataOption","data_filter","parseDMYhm","s","b","columns","filters","filterMode","filterSearch","onFilter","includes","sorter","DataSortTimeMcG","LogDataMappingTimeMcG","TimeColumb","prevdate","LogDataMappingNameRT","Label","FilterByName","TargetName","DataObjBuf","CalculateTiming","ProductperHour","FilterOutExcessTime","ReturnData","ConditionBuf","TimeInterval","StartTime","EndTime","startTime","endTime","durationDay","diff","durationHour","durationMinutes","TotalDuration","Day","Hours","Minutes","DateDisplay","DateToday","month","year","DataSortTimeMSM","date_created","parameter","LogDataMappingTimeMSM","LogDataMappingNameMSM","EventSortTimeMSM","tag","shift","MSM_Realtime_GetDateTime","Morning_Start_time","Morning_End_time","Night_Start_time","Night_End_time","Find_initial_Time","Over","init"],"mappings":"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","sourcesContent":["import { Button } from 'antd';\r\nimport moment from 'moment';\r\nimport XlsxPopulate from 'xlsx-populate'\r\n\r\n\r\nexport const TableColumbTimeAsRow = () => {\r\n    let Columb = []\r\n    let TimeRow = []\r\n\r\n    for (let i = 0; i < 24; i++) {\r\n        let n\r\n        i < 10 ? n = `0${i}` : n = i\r\n        TimeRow.push(`${n}:00`)\r\n    }\r\n\r\n    Columb.push(\r\n        {\r\n            title: 'Parameter',\r\n            width: 100,\r\n            dataIndex: 'Parameter',\r\n            key: 'Parameter',\r\n            fixed: 'left',\r\n            align: 'center',\r\n        })\r\n\r\n    TimeRow.forEach(element => {\r\n        Columb.push(\r\n            {\r\n                title: element,\r\n                width: 70,\r\n                dataIndex: element,\r\n                key: element,\r\n                align: 'center',\r\n            }\r\n        )\r\n    });\r\n    return Columb\r\n}\r\n\r\nexport const TableColumbLabelAsRowG2 = (Datamodel, InputBagCallBack) => {\r\n    let Columb = []\r\n\r\n    Columb.push(\r\n        {\r\n            title: 'Time',\r\n            width: 60,\r\n            dataIndex: 'Time',\r\n            key: 'Time',\r\n            fixed: 'left',\r\n            align: 'center',\r\n        })\r\n\r\n    const name = Object.keys(Datamodel)\r\n    name.forEach(element => {\r\n        Columb.push(\r\n            {\r\n                title: element,\r\n                width: 70,\r\n                dataIndex: element,\r\n                key: element,\r\n                align: 'center',\r\n            }\r\n        )\r\n    })\r\n\r\n    Columb.push(\r\n        {\r\n            title: 'View',\r\n            width: 60,\r\n            dataIndex: 'View',\r\n            key: 'View',\r\n            align: 'center',\r\n            render: (text, record, index) => <Button onClick={\r\n                (e) => { InputBagCallBack(record) }\r\n            } > Click </Button>,\r\n        })\r\n\r\n    //console.log(Columb);\r\n    return Columb\r\n}\r\n\r\nexport const TableColumbLabelAsRow = (Datamodel) => {\r\n    let Columb = []\r\n\r\n    Columb.push(\r\n        {\r\n            title: 'Time',\r\n            width: 60,\r\n            dataIndex: 'Time',\r\n            key: 'Time',\r\n            fixed: 'left',\r\n            align: 'center',\r\n        })\r\n\r\n    const name = Object.keys(Datamodel)\r\n    name.forEach(element => {\r\n        Columb.push(\r\n            {\r\n                title: element,\r\n                width: 70,\r\n                dataIndex: element,\r\n                key: element,\r\n                align: 'center',\r\n            }\r\n        )\r\n    })\r\n\r\n    //console.log(Columb);\r\n    return Columb\r\n}\r\n\r\nexport const TableColumbJob = (Datamodel, Viewhandler, DeleteHandler, line, page, button1name, button2name) => {\r\n    let Columb = []\r\n\r\n    const name = Object.keys(Datamodel)\r\n    name.forEach(element => {\r\n        Columb.push(\r\n            {\r\n                title: element,\r\n                width: 70,\r\n                dataIndex: element,\r\n                key: element,\r\n                align: 'center',\r\n            }\r\n        )\r\n    })\r\n\r\n    Columb.push(\r\n        {\r\n            title: `${button1name}`,\r\n            width: 60,\r\n            dataIndex: 'View',\r\n            key: 'View',\r\n            align: 'center',\r\n            render: (text, record, index) => <Button onClick={\r\n                (e) => { Viewhandler(record) }\r\n            } > Click </Button>,\r\n        })\r\n\r\n    Columb.push(\r\n        {\r\n            title: `${button2name}`,\r\n            width: 60,\r\n            dataIndex: 'Delete',\r\n            key: 'Delete',\r\n            align: 'center',\r\n            render: (text, record, index) => <Button onClick={\r\n                (e) => { DeleteHandler(record, line, page) }\r\n            } > {button2name} </Button>,\r\n        })\r\n\r\n    //console.log(Columb);\r\n    return Columb\r\n}\r\n\r\n\r\nexport const TableColumbJobtest = (Datamodel, Viewhandler, DeleteHandler, EditHandler, line, page, button1name, button2name, button3name) => {\r\n    let Columb = []\r\n\r\n    const name = Object.keys(Datamodel)\r\n    name.forEach(element => {\r\n        Columb.push(\r\n            {\r\n                title: element,\r\n                width: 70,\r\n                dataIndex: element,\r\n                key: element,\r\n                align: 'center',\r\n            }\r\n        )\r\n    })\r\n\r\n    Columb.push(\r\n        {\r\n            title: `${button1name}`,\r\n            width: 60,\r\n            dataIndex: 'View',\r\n            key: 'View',\r\n            align: 'center',\r\n            render: (text, record, index) => <Button onClick={\r\n                (e) => { Viewhandler(record) }\r\n            } > Click </Button>,\r\n        })\r\n\r\n    Columb.push(\r\n        {\r\n            title: `${button2name}`,\r\n            width: 60,\r\n            dataIndex: 'Delete',\r\n            key: 'Delete',\r\n            align: 'center',\r\n            render: (text, record, index) => <Button onClick={\r\n                (e) => { DeleteHandler(record, line, page) }\r\n            } > {button2name} </Button>,\r\n        })\r\n\r\n        Columb.push(\r\n            {\r\n                title: `${button3name}`,\r\n                width: 60,\r\n                dataIndex: 'Edit',\r\n                key: 'Edit',\r\n                align: 'center',\r\n                render: (text, record, index) => <Button onClick={\r\n                    (e) => { EditHandler(record) }\r\n                } > {button3name} </Button>,\r\n            })\r\n\r\n    //console.log(Columb);\r\n    return Columb\r\n}\r\n\r\nexport const TableColumbJobHome = (Datamodel, line, page, button1name, button2name) => {\r\n    let Columb = []\r\n\r\n    Columb.push(\r\n        {\r\n            title: 'Line',\r\n            width: 70,\r\n            dataIndex: 'Line',\r\n            key: 'Line',\r\n            align: 'center',\r\n        })\r\n\r\n    const name = Object.keys(Datamodel)\r\n    name.forEach(element => {\r\n        Columb.push(\r\n            {\r\n                title: element,\r\n                width: 70,\r\n                dataIndex: element,\r\n                key: element,\r\n                align: 'center',\r\n            }\r\n        )\r\n    })\r\n\r\n    //console.log(Columb);\r\n    return Columb\r\n}\r\n\r\n//offset initial date from today and offset ending date by today\r\nexport const GetDateTime = (OffsetInitialDay, OffsetDayEnd) => {\r\n\r\n    let DateTimeArray = []\r\n    let separator = '-'\r\n\r\n    let today = new Date()\r\n    let tomorrow = new Date(today)\r\n    tomorrow.setDate(tomorrow.getDate() + OffsetDayEnd)\r\n    today.setDate(today.getDate() - OffsetInitialDay)\r\n\r\n    let date1 = today.getDate();\r\n    let month1 = today.getMonth() + 1;\r\n    let year1 = today.getFullYear();\r\n\r\n    let date2 = tomorrow.getDate();\r\n    let month2 = tomorrow.getMonth() + 1;\r\n    let year2 = tomorrow.getFullYear();\r\n\r\n\r\n    let Start_time = `${year1}${separator}${month1 < 10 ? `0${month1}` : `${month1}`}${separator}${date1} 00:00:00`\r\n    let End_time = `${year2}${separator}${month2 < 10 ? `0${month2}` : `${month2}`}${separator}${date2} 00:00:00`\r\n\r\n    DateTimeArray[0] = moment(Start_time).toISOString(false).split('.')[0] + \"Z\"\r\n    DateTimeArray[1] = moment(End_time).toISOString(false).split('.')[0] + \"Z\"\r\n    DateTimeArray[2] = Start_time\r\n    DateTimeArray[3] = End_time\r\n\r\n    return DateTimeArray\r\n}\r\n\r\nexport const SetDateRange = (datetime) => {\r\n    let DateTime = []\r\n    let ReturnDT = []\r\n    //convert datepicker value to Z format\r\n    DateTime[0] = moment(datetime, \"DD-MM-YYYY\").subtract(1, 'days')\r\n    DateTime[1] = datetime//moment(datetime, \"DD-MM-YYYY\").add(1, 'days');\r\n\r\n    ReturnDT[0] = DateTime[0].toISOString(false).split('T')[0] + \"T16:00:00Z\"\r\n    ReturnDT[1] = DateTime[1].toISOString(false).split('T')[0] + \"T15:00:00Z\"\r\n    //console.log(ReturnDT)\r\n    return ReturnDT\r\n}\r\n\r\n//convert datetimepicker value to Z format\r\nexport const ConvertMonentToDateTime = (momentDateTime) => {\r\n    let DateTimeReturn = []\r\n\r\n    try {\r\n        DateTimeReturn[0] = momentDateTime[0].toISOString(false).split('.')[0] + \"Z\"\r\n        DateTimeReturn[1] = momentDateTime[1].toISOString(false).split('.')[0] + \"Z\"\r\n    }\r\n    catch { }\r\n    return DateTimeReturn\r\n}\r\n\r\n//convert datetimepicker value to Z format\r\nexport const ConvertMonentToDateTimeSingle = (momentDateTime) => {\r\n    let DateTimeReturn\r\n\r\n    try {\r\n        DateTimeReturn= momentDateTime.toISOString(false).split('.')[0] + \"Z\"\r\n    }\r\n    catch { }\r\n    return DateTimeReturn\r\n}\r\n\r\nexport const DataSortTime = (response) => {\r\n    let DataReturn\r\n    if (response.success === true) {\r\n        const data = response.data\r\n\r\n        DataReturn = data.map(obj => {\r\n            let cobj = []\r\n            let date_new = moment(obj.fields.DateCreated);\r\n            let DateComponent = date_new.utc(true).format('DD-MM-YYYY HH:mm:ss')\r\n            let TimeComponent = date_new.utc(true).format('HH:mm:ss')\r\n            let ar0 = TimeComponent.split(':')\r\n            let ar1 = ar0[0] + ':' + ar0[1]\r\n            // let SV = obj.fields.\r\n\r\n            cobj = {\r\n                'key': `${obj.fields.Parameter}  ${DateComponent}`,\r\n                'time': ar1,\r\n                'date': DateComponent,\r\n                'Parameter': obj.fields.Parameter,\r\n                'Value': parseFloat(obj.fields.Value),\r\n            }\r\n            return cobj\r\n        })\r\n        //console.log(DataReturn);\r\n    }\r\n    else {\r\n        // console.log(response)\r\n    }\r\n    return DataReturn\r\n}\r\n\r\n\r\nexport const ReportSort = (response) => {\r\n    let DataReturn\r\n    if (response.success === true) {\r\n        const data = response.data\r\n\r\n        DataReturn = data.map(obj => {\r\n            let cobj = []\r\n            let DateTime_Start = (moment(obj.fields.DateTime_Start)).utc(true).format('DD-MM-YYYY HH:mm:ss')\r\n            let DateTime_End = (moment(obj.fields.DateTime_End)).utc(true).format('DD-MM-YYYY HH:mm:ss')\r\n            // let ar0 = TimeComponent.split(':')\r\n            // let ar1 = ar0[0] + ':' + ar0[1]\r\n\r\n            cobj = {\r\n                'key': obj.fields.Info1,\r\n                'Line': obj.fields.Line,\r\n                'Start Time': DateTime_Start,\r\n                'End Time': DateTime_End,\r\n                'Job No': obj.fields.Info1,\r\n                'Grade': obj.fields.Info2,\r\n                'Color': obj.fields.Info3,\r\n                'Estimated Rate': obj.fields.Info4,\r\n                'Actual Product': obj.fields.Info5,\r\n\r\n            }\r\n            return cobj\r\n        })\r\n        //console.log(DataReturn);\r\n    }\r\n    else {\r\n        console.log(response)\r\n    }\r\n    return DataReturn\r\n}\r\n\r\nexport const LogDataMappingTime = (Datamodel, RawData) => {\r\n    const name = Object.keys(Datamodel)\r\n    let ReturnValue = []\r\n    let bufferModel = {}\r\n    bufferModel.Parameter = 0\r\n\r\n    for (let i = 0; i < 24; i++) {\r\n        let n\r\n        i < 10 ? n = `0${i}` : n = i\r\n        bufferModel[`${n}:00`] = 0\r\n    }\r\n\r\n    name.forEach(element => {\r\n        let Buffer = {}\r\n        Object.assign(Buffer, bufferModel)\r\n        Buffer.Parameter = element\r\n\r\n        RawData.forEach(element2 => {\r\n            if (element2.Parameter === element) {\r\n                Buffer[element2.time] = element2.Value\r\n                Buffer['key'] = element2.Parameter\r\n            }\r\n        })\r\n        ReturnValue.push(Buffer)\r\n    })\r\n    return ReturnValue\r\n}\r\n\r\n\r\nexport const LogDataMappingName = (Datamodel, RawData) => {\r\n    const name = Object.keys(Datamodel)\r\n\r\n    let prevtime = [], period = \"\", ReturnValue = []\r\n\r\n    const parasearch = (item) => {\r\n        if (item.date === period) { return true; }\r\n        return false\r\n    }\r\n\r\n    RawData.forEach(element => {\r\n        if (element.date === prevtime) { }\r\n\r\n        else {\r\n            prevtime = element.date\r\n            period = element.date\r\n\r\n            let data_buf3 = {}\r\n\r\n            name.forEach(element => {\r\n                data_buf3[element] = 0\r\n            });\r\n\r\n            let data_buf2 = RawData.filter(parasearch)\r\n\r\n            data_buf2.map(obj => {\r\n                data_buf3['key'] = obj.date\r\n                data_buf3['Time'] = obj.date\r\n                data_buf3['time'] = obj.time\r\n\r\n                data_buf3[obj.Parameter] = obj.Value\r\n                return data_buf3\r\n            })\r\n            ReturnValue.push(data_buf3)\r\n        }\r\n    })\r\n    return ReturnValue\r\n}\r\n\r\n\r\nexport const SortToArrayExcel = (DataJson, DataModel) => {\r\n    console.log(DataJson);\r\n    // let bufferArray = []\r\n    let bufferArray2 = []\r\n    const para = Object.keys(DataJson[1])\r\n    const name = Object.keys(DataModel)\r\n    let ReturnPara = {\r\n        Array: [],\r\n        height: 1,\r\n        width: 1\r\n    }\r\n    // console.log(para);\r\n    // console.log(name);\r\n    // bufferArray.push(DataJson[1]['Time'])\r\n\r\n    DataJson.forEach(element => {\r\n        let bufferArray = []\r\n        bufferArray.push(element['Time'])\r\n\r\n        name.forEach(element1 => {\r\n\r\n            para.forEach(element2 => {\r\n                // console.log('new');\r\n                // console.log(element1);\r\n                // console.log(element2);\r\n\r\n                let number\r\n\r\n                if (element2 === element1) {\r\n                    try {\r\n                        //console.log(element2);\r\n\r\n                        number = parseFloat(element[element2])\r\n                    }\r\n                    catch {\r\n                        console.log('error');\r\n                        number = parseFloat(0)\r\n                    }\r\n\r\n                    //console.log(LogValue['LogC3'][1][element2])\r\n                    bufferArray.push(number)\r\n                }\r\n            })\r\n\r\n        })\r\n        bufferArray2.push(bufferArray)\r\n    });\r\n\r\n    ReturnPara.Array = bufferArray2\r\n    ReturnPara.height = bufferArray2.length\r\n    ReturnPara.width = bufferArray2[0].length\r\n\r\n    return ReturnPara\r\n}\r\n\r\n\r\nexport const ExportExcelWorkBook = (DataJson, DataModel, startCol, startRow, endCol, endRow, FileName, JobInfo, Cell) => {\r\n\r\n    fetch(FileName)\r\n        .then(res => res.arrayBuffer())\r\n        .then(buffer => {\r\n            XlsxPopulate.fromDataAsync(buffer)\r\n                .then(workbook => {\r\n\r\n                    // r = workbook.sheet(0).cell(\"A8\").value(\"foo\");\r\n                    let setting = SortToArrayExcel(DataJson, DataModel)\r\n\r\n                    const r = workbook.sheet(0).range(`${startCol}${startRow}:${endCol}${endRow + setting.height}`);\r\n                    const Jobname = workbook.sheet(0).cell(Cell[0]).value(`Job No: ${JobInfo.Info1}`);\r\n                    const Grade = workbook.sheet(0).cell(Cell[1]).value(`Grade: ${JobInfo.Info5}`);\r\n                    const Colour = workbook.sheet(0).cell(Cell[2]).value(`Colour: ${JobInfo.Info4}`);\r\n                    const Start = workbook.sheet(0).cell(Cell[3]).value(`Start: ${JobInfo.Info2}`);\r\n                    const End = workbook.sheet(0).cell(Cell[4]).value(`End: ${JobInfo.Info3}`);\r\n\r\n\r\n\r\n\r\n                    r.value(setting.Array);\r\n\r\n                    workbook.outputAsync()\r\n                        .then(function (blob) {\r\n                            if (window.navigator && window.navigator.msSaveOrOpenBlob) {\r\n                                window.navigator.msSaveOrOpenBlob(blob, \"out.xlsx\");\r\n                            }\r\n\r\n                            else {\r\n                                var url = window.URL.createObjectURL(blob);\r\n                                var a = document.createElement(\"a\");\r\n                                document.body.appendChild(a);\r\n                                a.href = url;\r\n                                a.download = FileName;\r\n                                a.click();\r\n                                window.URL.revokeObjectURL(url);\r\n                                document.body.removeChild(a);\r\n                            }\r\n                        });\r\n                })\r\n                .catch(err => console.error(err));\r\n        })\r\n}\r\n\r\nexport const FilterOutEndedJob = (JobList) => {\r\n    let FilterJob = []\r\n\r\n    const Current = new Date()\r\n    const NowTime = new Date(moment(Current, \"DD-MM-YYYY HH:mm:ss\").toISOString(false)) //when wan to change datetime from (new dete()) to the usual view\r\n    \r\n    // const NowTime2 = moment(Current, \"DD-MM-YYYY HH:mm:ss\").toISOString(false)\r\n    \r\n    JobList.forEach(element => {\r\n        try {\r\n            let DateBuf = new Date(moment(element['End Time'], \"DD-MM-YYYY HH:mm:ss\").toISOString(false))\r\n            console.log(NowTime);\r\n            console.log(DateBuf);\r\n\r\n\r\n            // console.log(new Date(moment(element['End Time'], \"DD-MM-YYYY HH:mm:ss\").toISOString(false)));\r\n\r\n            if (DateBuf > NowTime) {\r\n                console.log('got');\r\n                FilterJob.push(element)\r\n            }\r\n            else{\r\n                console.log('not');\r\n            }\r\n        }\r\n        catch { }\r\n    });\r\n\r\n    return FilterJob\r\n}\r\n\r\nexport const VisualizeLogColumb = (DataOption) => {\r\n\r\n    let data_filter = DataOption.map(obj => {\r\n        let cobj = []\r\n\r\n        cobj = {\r\n            text: obj,\r\n            value: obj,\r\n        }\r\n        return cobj\r\n    })\r\n\r\n    const parseDMYhm = (s) => {\r\n        var b = s.split(/\\D/);\r\n        return new Date(b[2], b[1] - 1, b[2], b[3], b[4]);\r\n    }\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Parameter',\r\n            dataIndex: 'Parameter',\r\n            filters: data_filter,\r\n            filterMode: 'tree',\r\n            filterSearch: true,\r\n            onFilter: (value, record) => record.Parameter.includes(value),\r\n            width: '30%',\r\n        },\r\n        {\r\n            title: 'Value',\r\n            dataIndex: 'Value',\r\n            sorter: (a, b) => a.Value - b.Value,\r\n        },\r\n        {\r\n            title: 'time',\r\n            dataIndex: 'time',\r\n            sorter: (a, b) => parseDMYhm(a.time) - parseDMYhm(b.time),\r\n        },\r\n    ];\r\n\r\n    return columns\r\n}\r\n\r\nexport const DataSortTimeMcG = (response) => {\r\n    let DataReturn =[]\r\n    console.log(response);\r\n    if (response.success === true) {\r\n        const data = response.data\r\n        let i = 0\r\n\r\n        DataReturn = data.map(obj => {\r\n            let cobj = []\r\n            let date_new = moment(obj.fields.DateCreated);\r\n            let DateComponent = date_new.utc(true).format('DD-MM-YYYY HH:mm:ss')\r\n            let TimeComponent = date_new.utc(true).format('HH:mm:ss')\r\n            let ar0 = TimeComponent.split(':')\r\n            let ar1 = ar0[0] + ':' + ar0[1]\r\n            // let SV = obj.fields.\r\n\r\n            cobj = {\r\n                'key': i++,\r\n                'time': ar1,\r\n                'date': DateComponent,\r\n                'Parameter': obj.fields.Parameter,\r\n                'Value': obj.fields.Value,\r\n            }\r\n            return cobj\r\n        })\r\n        // console.log(DataReturn);\r\n    }\r\n    else {\r\n        // console.log(response)\r\n    }\r\n    return DataReturn\r\n}\r\n\r\nexport const LogDataMappingTimeMcG = (Datamodel, RawData) => {\r\n    const name = Object.keys(Datamodel)\r\n    let ReturnValue = []\r\n    let bufferModel = {}\r\n    let TimeColumb = []\r\n    let prevdate = ''\r\n    bufferModel.Parameter = 0\r\n\r\n    RawData.forEach(element => {\r\n        if (element.date !== prevdate) {\r\n            TimeColumb.push(element.date)\r\n            prevdate = element.date\r\n        }\r\n    });\r\n    // console.log(TimeColumb);\r\n\r\n    name.forEach(element => {\r\n        let Buffer = {}\r\n        Object.assign(Buffer, bufferModel)\r\n        Buffer.Parameter = element\r\n\r\n        RawData.forEach(element2 => {\r\n            if (element2.Parameter === element) {\r\n                Buffer[element2.time] = element2.Value\r\n                Buffer['key'] = element2.key\r\n            }\r\n        })\r\n        ReturnValue.push(Buffer)\r\n    })\r\n\r\n\r\n    console.log(ReturnValue);\r\n    return ReturnValue\r\n}\r\n\r\n\r\nexport const LogDataMappingNameRT = (Datamodel, RawData) => {\r\n    const name = Object.keys(Datamodel)\r\n\r\n    let prevtime = [], period = \"\", ReturnValue = []\r\n\r\n    const parasearch = (item) => {\r\n        if (item.date === period) { return true; }\r\n        return false\r\n    }\r\n\r\n    RawData.forEach(element => {\r\n        if (element.date === prevtime) { }\r\n\r\n        else {\r\n            prevtime = element.date\r\n            period = element.date\r\n\r\n            let data_buf3 = {}\r\n\r\n            name.forEach(element => {\r\n                data_buf3[element] = 0\r\n            });\r\n\r\n            let data_buf2 = RawData.filter(parasearch)\r\n\r\n            data_buf2.map(obj => {\r\n                data_buf3['key'] = obj.date\r\n                data_buf3['Time'] = obj.date\r\n                data_buf3['time'] = obj.time\r\n\r\n                data_buf3[obj.Label] = obj.Value\r\n                return data_buf3\r\n            })\r\n            ReturnValue.push(data_buf3)\r\n        }\r\n    })\r\n    return ReturnValue\r\n}\r\n\r\nexport const FilterByName = (TargetName, RawData) => {\r\n    let DataReturn\r\n\r\n    DataReturn = RawData.map(obj => {\r\n        let DataObjBuf = {}\r\n        DataObjBuf = {\r\n            'Time': obj['Time'],\r\n            'Feeder Speed': obj[TargetName],\r\n            'State': obj[TargetName] > 10 ? 1 : 0,\r\n        }\r\n        return DataObjBuf\r\n    })\r\n    return DataReturn\r\n}\r\n\r\nconst CalculateTiming = (ProductperHour, RawData) => {\r\n\r\n}\r\n\r\n\r\nexport const FilterOutExcessTime = (RawData) => {\r\n    let ReturnData = []\r\n    RawData.forEach(element => {\r\n        let ConditionBuf = element['Time'].split(' ')[1].split(':')[1]\r\n\r\n        if (ConditionBuf === '00') {\r\n            ReturnData.push(element)\r\n        }\r\n\r\n    });\r\n    return ReturnData\r\n}\r\n\r\nexport const TimeInterval = (StartTime, EndTime) => {\r\n\r\n    var startTime =moment(StartTime, \"DD-MM-YYYY HH:mm:ss\").toISOString(false).split('.')[0] + \"Z\"\r\n    var endTime =moment(EndTime, \"DD-MM-YYYY HH:mm:ss\").toISOString(false).split('.')[0] + \"Z\"\r\n\r\n    //   let s =  ConvertMonentToDateTime(test)\r\n\r\n      let a = moment(startTime)\r\n      let b = moment(endTime)\r\n\r\n      var durationDay = b.diff(a, 'days')\r\n      var durationHour = b.diff(a, 'hours')\r\n      durationHour = durationHour % 24\r\n      var durationMinutes = b.diff(a, 'minutes')\r\n      durationMinutes = durationMinutes % 60\r\n\r\n      let TotalDuration = {\r\n          Day : durationDay,\r\n          Hours: durationHour,\r\n          Minutes: durationMinutes\r\n      }\r\n\r\n    // console.log(s);\r\n    // console.log(`${durationDay} Days ${durationHour} Hours  ${durationMinutes} Minutes `);\r\n    return TotalDuration\r\n\r\n}\r\n\r\n\r\nexport const DateDisplay = () =>{\r\n    let DateToday  = new Date()\r\n    let date = DateToday.getDate();\r\n    let month = DateToday.getMonth() + 1;\r\n    let year = DateToday.getFullYear();\r\n\r\n\r\n    let DateTime = date + '/' + month + '/' + year\r\n    \r\n    return DateTime\r\n}\r\n\r\n\r\nexport const DataSortTimeMSM = (response) => {\r\n    let DataReturn\r\n    if (response.success === true) {\r\n        const data = response.data\r\n\r\n        DataReturn = data.map(obj => {\r\n            let cobj = []\r\n            let date_new = moment(obj.fields.date_created);\r\n            let DateComponent = date_new.utc(true).format('DD/MM/YYYY HH:mm:ss')\r\n            let TimeComponent = date_new.utc(true).format('HH:mm:ss')\r\n            let Date = date_new.utc(true).format('DD/MM/YYYY')\r\n\r\n            // let SV = obj.fields.\r\n\r\n            cobj = {\r\n                'key': `${obj.fields.parameter}  ${DateComponent}`,\r\n                'date': DateComponent,\r\n                'DateTime': DateComponent,\r\n                'Parameter': obj.fields.parameter,\r\n                'Value': parseFloat(obj.fields.value),\r\n                'type' : obj.fields.parameter,\r\n            }\r\n            return cobj\r\n        })\r\n        console.log(DataReturn);\r\n    }\r\n    else {\r\n        // console.log(response)\r\n    }\r\n    return DataReturn\r\n}\r\n\r\nexport const LogDataMappingTimeMSM = (Datamodel, RawData) => {\r\n    const name = Object.keys(Datamodel)\r\n    let ReturnValue = []\r\n    let bufferModel = {}\r\n    bufferModel.Parameter = 0\r\n\r\n    for (let i = 0; i < 24; i++) {\r\n        let n\r\n        i < 10 ? n = `0${i}` : n = i\r\n        bufferModel[`${n}:00`] = 0\r\n    }\r\n\r\n    name.forEach(element => {\r\n        let Buffer = {}\r\n        Object.assign(Buffer, bufferModel)\r\n        Buffer.Parameter = element\r\n\r\n        RawData.forEach(element2 => {\r\n            if (element2.Parameter === element) {\r\n                Buffer[element2.time] = element2.Value\r\n                Buffer['key'] = element2.Parameter\r\n            }\r\n        })\r\n        ReturnValue.push(Buffer)\r\n    })\r\n    return ReturnValue\r\n}\r\n\r\nexport const LogDataMappingNameMSM = (Datamodel, RawData) => {\r\n    const name = Object.keys(Datamodel)\r\n\r\n    let prevtime = [], period = \"\", ReturnValue = []\r\n\r\n    const parasearch = (item) => {\r\n        if (item.date === period) { return true; }\r\n        return false\r\n    }\r\n\r\n    RawData.forEach(element => {\r\n        if (element.date === prevtime) { }\r\n\r\n        else {\r\n            prevtime = element.date\r\n            period = element.date\r\n\r\n            let data_buf3 = {}\r\n\r\n            name.forEach(element => {\r\n                data_buf3[element] = 0\r\n            });\r\n\r\n            let data_buf2 = RawData.filter(parasearch)\r\n\r\n            data_buf2.map(obj => {\r\n                data_buf3['DateTime'] = obj.date\r\n\r\n                data_buf3[obj.Parameter] = obj.Value\r\n                return data_buf3\r\n            })\r\n            console.log(data_buf3);\r\n            ReturnValue.push(data_buf3)\r\n        }\r\n    })\r\n    return ReturnValue\r\n}\r\n\r\n\r\nexport const EventSortTimeMSM = (response) => {\r\n    let DataReturn\r\n    if (response.success === true) {\r\n        const data = response.data\r\n\r\n        DataReturn = data.map(obj => {\r\n            let cobj = []\r\n            let date_new = moment(obj.fields.date_created);\r\n            let DateComponent = date_new.utc(true).format('DD/MM/YYYY HH:mm:ss')\r\n            let Date = date_new.utc(true).format('DD/MM/YYYY')\r\n            let TimeComponent = date_new.utc(true).format('HH:mm:ss')\r\n            let ar0 = TimeComponent.split(':')\r\n            let ar1 = ar0[0] + ':' + ar0[1]\r\n            let tag = Date + '' + TimeComponent + '#' + obj.fields.parameter + 'TBAMSMSGNBLH'\r\n\r\n            let shift = TimeComponent < moment('18:59:59', 'HH:mm:ss') ? \"Morning\" : \"Night\"\r\n            \r\n            // let SV = obj.fields.\r\n\r\n            cobj = {\r\n                'key': `${obj.fields.parameter}  ${DateComponent}`,\r\n                'DateTime': DateComponent,\r\n                'IdUnit': parseFloat(obj.fields.value),\r\n                'Label' : obj.fields.parameter,\r\n                'Value': parseFloat(obj.fields.value),\r\n                'Weight' : 'TBA',\r\n                'Location' : 'MSMSGBLH',\r\n                'Tag' : tag,\r\n                'Shift' : shift\r\n            }\r\n            return cobj\r\n        })\r\n        // console.log(DataReturn);\r\n    }\r\n    else {\r\n        // console.log(response)\r\n    }\r\n    return DataReturn\r\n}\r\n\r\nexport const MSM_Realtime_GetDateTime = (OffsetInitialDay, OffsetDayEnd) => {\r\n\r\n    let DateTimeArray = []\r\n    let separator = '-'\r\n\r\n    let today = new Date()\r\n    let tomorrow = new Date(today)\r\n    tomorrow.setDate(tomorrow.getDate() + OffsetDayEnd)\r\n    today.setDate(today.getDate() - OffsetInitialDay)\r\n\r\n    let date1 = today.getDate();\r\n    let month1 = today.getMonth() + 1;\r\n    let year1 = today.getFullYear();\r\n\r\n    let date2 = tomorrow.getDate();\r\n    let month2 = tomorrow.getMonth() + 1;\r\n    let year2 = tomorrow.getFullYear();\r\n\r\n\r\n    let Morning_Start_time = `${year1}${separator}${month1 < 10 ? `0${month1}` : `${month1}`}${separator}${date1} 07:00:00`\r\n    let Morning_End_time = `${year2}${separator}${month2 < 10 ? `0${month2}` : `${month2}`}${separator}${date2} 18:59:59`\r\n    let Night_Start_time = `${year1}${separator}${month1 < 10 ? `0${month1}` : `${month1}`}${separator}${date1} 19:00:00`\r\n    let Night_End_time = `${year2}${separator}${month2 < 10 ? `0${month2}` : `${month2}`}${separator}${date2} 06:59:59`\r\n\r\n    DateTimeArray[0] = moment(Morning_Start_time).toISOString(false).split('.')[0] + \"Z\"\r\n    DateTimeArray[1] = moment(Morning_End_time).toISOString(false).split('.')[0] + \"Z\"\r\n    DateTimeArray[2] = moment(Night_Start_time).toISOString(false).split('.')[0] + \"Z\"\r\n    DateTimeArray[3] = moment(Night_End_time).toISOString(false).split('.')[0] + \"Z\"\r\n\r\n    return DateTimeArray\r\n}\r\n\r\n\r\nexport const Find_initial_Time = () => {\r\n    let separator = '-'\r\n\r\n    let Over = false;\r\n\r\n    let today = new Date()\r\n    let date1 = today.getDate();\r\n    let month1 = today.getMonth() + 1;\r\n    let year1 = today.getFullYear();\r\n\r\n    let Start_time = `${year1}${separator}${month1 < 10 ? `0${month1}` : `${month1}`}${separator}${date1} 07:00:00`\r\n\r\n    let init = new Date(Start_time)\r\n\r\n    // console.log(today);\r\n    // console.log(init);\r\n\r\n    if(today > init){\r\n        Over = true\r\n    }\r\n\r\n    else\r\n    {\r\n        Over = false\r\n    }\r\n\r\n    return Over\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}