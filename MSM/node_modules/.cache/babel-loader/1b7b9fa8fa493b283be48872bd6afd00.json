{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/tzika/Desktop/Polymerlink-Front/polymerlink-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/tzika/Desktop/Polymerlink-Front/polymerlink-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/tzika/Desktop/Polymerlink-Front/polymerlink-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{ReadJob,RealtimeData_Request}from'../../api';import{FilterOutEndedJob,GetDateTime,ReportSort,TableColumbJob,TableColumbJobHome}from'../../DataRequest/LogDataRequestWrap';import moment from'moment';import{C3Model,G2Model,JobModel}from'../../DataRequest/DataModel';import{Button,Col,Row,Table,Typography}from'antd';import RealTimeTableWrapper from'../Realtime/RealTimeTableWrapper';import{DataSortRT}from'../../DataRequest/RealTimeRequestWrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LogValue={\"LogC3\":[],\"LogG2\":[]};var ReportList={\"C3ReportList\":[],\"G2ReportList\":[],'All':[]};var JobDetailRecord={datetimeStart:'',datetimeEnd:'',site:'',line:'',BufferName:''};var ReportInfoG2={};var BlankPage,ClickTime;var RealTimeValue={\"C3Table\":[],\"G2Table\":[],\"C3Graph\":[],\"G2Graph\":[]};var Home=function Home(){var Title=Typography.Title;var _useState=useState({count:0}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var DataRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(label,site,page,line,HMIName,TableName){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return RealtimeData_Request(label,site,page,line);case 2:response=_context.sent;RealTimeValue[TableName]=DataSortRT(response);RealTimeValue[HMIName]=RealTimeValue[TableName];case 5:case\"end\":return _context.stop();}}},_callee);}));return function DataRequest(_x,_x2,_x3,_x4,_x5,_x6){return _ref.apply(this,arguments);};}();var RenderNewData=function RenderNewData(){DataRequest([],'Polymerlink','1','C3','C3HMI',\"C3Table\");DataRequest([],'Polymerlink',BlankPage,'G2','G2HMI',\"G2Table\");setState(function(_ref2){var count=_ref2.count;return{count:count+1};});};useEffect(function(){RenderNewData();time();var interval=setInterval(function(){RenderNewData();},3000);return function(){clearInterval(interval);console.log('Unmount Effect Line1RT');};},[]);var RequestJob=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(info,datetimeStart,datetimeEnd,site,line,BufferName){var response,response2;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return ReadJob(info,datetimeStart,datetimeEnd,site,line[0]);case 2:response=_context2.sent;filter(response,BufferName[0]);_context2.next=6;return ReadJob(info,datetimeStart,datetimeEnd,site,line[1]);case 6:response2=_context2.sent;filter(response2,BufferName[1]);ReportList['All']=[];ReportList[BufferName[0]].forEach(function(element){ReportList['All'].push(element);});ReportList[BufferName[1]].forEach(function(element){ReportList['All'].push(element);});console.log(ReportList['All']);setState(function(_ref4){var count=_ref4.count;return{count:count+1};});case 13:case\"end\":return _context2.stop();}}},_callee2);}));return function RequestJob(_x7,_x8,_x9,_x10,_x11,_x12){return _ref3.apply(this,arguments);};}();var filter=function filter(response,BufferName){var data=ReportSort(response);var OngoingJob=FilterOutEndedJob(data);ReportList[BufferName]=OngoingJob;};var time=function time(line,BufferName){var timetange=GetDateTime(2,20);RequestJob([],timetange[0],timetange[1],'Polymerlink',['G2','C3'],[\"G2ReportList\",\"C3ReportList\"]);};var ColumbJob=TableColumbJobHome(JobModel,'G2',BlankPage,'Log');var comparedate=function comparedate(){var ii=new Date();var NowTime=moment(ii).format('DD-MM-yyyy HH:mm:ss');var dat1='11-12-2021 01:00:00';var dat2='01-12-2021 23:00:00';var date1=new Date(dat1);var date2=new Date(dat2);console.log(NowTime);date2>date1?console.log('yes'):console.log('no');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Title,{level:4,children:\"Current Job:\"}),/*#__PURE__*/_jsx(Table,{columns:ColumbJob,dataSource:ReportList['All'],bordered:true,scroll:{x:1000,y:500},pagination:false,size:\"small\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Row,{gutter:[16,16],children:[/*#__PURE__*/_jsx(Col,{span:12,xs:24,xl:12,children:/*#__PURE__*/_jsx(RealTimeTableWrapper,{TableTitle:'C3',TableData:RealTimeValue['C3Table']})}),/*#__PURE__*/_jsx(Col,{span:12,xs:24,xl:12,children:/*#__PURE__*/_jsx(RealTimeTableWrapper,{TableTitle:'G2',TableData:RealTimeValue['G2Table']})})]})})]});};export default Home;","map":{"version":3,"sources":["C:/Users/tzika/Desktop/Polymerlink-Front/polymerlink-2/src/pages/Home/Home.jsx"],"names":["React","useEffect","useState","ReadJob","RealtimeData_Request","FilterOutEndedJob","GetDateTime","ReportSort","TableColumbJob","TableColumbJobHome","moment","C3Model","G2Model","JobModel","Button","Col","Row","Table","Typography","RealTimeTableWrapper","DataSortRT","LogValue","ReportList","JobDetailRecord","datetimeStart","datetimeEnd","site","line","BufferName","ReportInfoG2","BlankPage","ClickTime","RealTimeValue","Home","Title","count","state","setState","DataRequest","label","page","HMIName","TableName","response","RenderNewData","time","interval","setInterval","clearInterval","console","log","RequestJob","info","filter","response2","forEach","element","push","data","OngoingJob","timetange","ColumbJob","comparedate","ii","Date","NowTime","format","dat1","dat2","date1","date2","x","y"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { ReadJob, RealtimeData_Request } from '../../api'\r\nimport { FilterOutEndedJob, GetDateTime, ReportSort, TableColumbJob, TableColumbJobHome } from '../../DataRequest/LogDataRequestWrap';\r\nimport moment from 'moment';\r\nimport { C3Model, G2Model, JobModel } from '../../DataRequest/DataModel';\r\nimport { Button, Col, Row, Table, Typography } from 'antd';\r\nimport RealTimeTableWrapper from '../Realtime/RealTimeTableWrapper';\r\nimport { DataSortRT } from '../../DataRequest/RealTimeRequestWrap';\r\n\r\n\r\nlet LogValue = {\r\n    \"LogC3\": [],\r\n    \"LogG2\": [],\r\n}\r\n\r\nlet ReportList = {\r\n    \"C3ReportList\": [],\r\n    \"G2ReportList\": [],\r\n    'All': []\r\n}\r\n\r\nlet JobDetailRecord = {\r\n    datetimeStart: '',\r\n    datetimeEnd: '',\r\n    site: '',\r\n    line: '',\r\n    BufferName: ''\r\n}\r\n\r\nlet ReportInfoG2 = {}\r\n\r\nlet BlankPage, ClickTime\r\n\r\nlet RealTimeValue = {\r\n    \"C3Table\": [],\r\n    \"G2Table\": [],\r\n    \"C3Graph\": [],\r\n    \"G2Graph\": [],\r\n}\r\n\r\nconst Home = () => {\r\n\r\n    const { Title } = Typography\r\n\r\n    const [state, setState] = useState({ count: 0 });\r\n\r\n    const DataRequest = async (label, site, page, line, HMIName, TableName) => {\r\n        const response = await RealtimeData_Request(label, site, page, line)\r\n        RealTimeValue[TableName] = DataSortRT(response)\r\n        RealTimeValue[HMIName] = RealTimeValue[TableName]\r\n    }\r\n\r\n    const RenderNewData = () => {\r\n\r\n        DataRequest([], 'Polymerlink', '1', 'C3', 'C3HMI', \"C3Table\")\r\n        DataRequest([], 'Polymerlink', BlankPage, 'G2', 'G2HMI', \"G2Table\")\r\n\r\n        setState(({ count }) => ({ count: count + 1 }));\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        RenderNewData()\r\n        time()\r\n\r\n        const interval = setInterval(() => {\r\n            RenderNewData()\r\n        }, 3000)\r\n\r\n        return () => {\r\n            clearInterval(interval)\r\n            console.log('Unmount Effect Line1RT');\r\n        }\r\n\r\n    }, [])\r\n\r\n\r\n    const RequestJob = async (info, datetimeStart, datetimeEnd, site, line, BufferName) => {\r\n        const response = await ReadJob(info, datetimeStart, datetimeEnd, site, line[0])\r\n        filter(response, BufferName[0])\r\n        const response2 = await ReadJob(info, datetimeStart, datetimeEnd, site, line[1])\r\n        filter(response2, BufferName[1])\r\n\r\n        ReportList['All'] = []\r\n\r\n        ReportList[BufferName[0]].forEach(element => {\r\n            ReportList['All'].push(element)\r\n        });\r\n\r\n        ReportList[BufferName[1]].forEach(element => {\r\n            ReportList['All'].push(element)\r\n        });\r\n\r\n        console.log(ReportList['All']);\r\n\r\n\r\n        setState(({ count }) => ({ count: count + 1 }));\r\n    }\r\n\r\n    const filter = (response, BufferName) => {\r\n        let data = ReportSort(response)\r\n        let OngoingJob = FilterOutEndedJob(data)\r\n        ReportList[BufferName] = OngoingJob\r\n    }\r\n\r\n\r\n\r\n    const time = (line, BufferName) => {\r\n        const timetange = GetDateTime(2, 20)\r\n        RequestJob([], timetange[0], timetange[1], 'Polymerlink', ['G2', 'C3'], [\"G2ReportList\", \"C3ReportList\"])\r\n    }\r\n\r\n\r\n    const ColumbJob = TableColumbJobHome(JobModel, 'G2', BlankPage, 'Log')\r\n\r\n    const comparedate = () => {\r\n        const ii = new Date()\r\n        const NowTime = moment(ii).format('DD-MM-yyyy HH:mm:ss');\r\n\r\n        let dat1 = '11-12-2021 01:00:00'\r\n        let dat2 = '01-12-2021 23:00:00'\r\n\r\n        var date1 = new Date(dat1);\r\n        var date2 = new Date(dat2);\r\n\r\n        console.log(NowTime);\r\n\r\n        date2 > date1 ? console.log('yes') : console.log('no');\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            {/* <Button onClick={time}> test </Button>\r\n            <Button onClick={comparedate}> compare </Button>\r\n             */}\r\n            <Title level={4}>Current Job:</Title>\r\n            <Table columns={ColumbJob} dataSource={ReportList['All']} bordered scroll={{ x: 1000, y: 500 }} pagination={false} size=\"small\" />\r\n\r\n            <div>\r\n                <Row gutter={[16, 16]}>\r\n                    <Col span={12} xs={24} xl={12}>\r\n                        <RealTimeTableWrapper TableTitle={'C3'} TableData={RealTimeValue['C3Table']} />\r\n                    </Col>\r\n                    <Col span={12} xs={24} xl={12}>\r\n                        <RealTimeTableWrapper TableTitle={'G2'} TableData={RealTimeValue['G2Table']} />\r\n                    </Col>\r\n\r\n                </Row>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n"]},"metadata":{},"sourceType":"module"}