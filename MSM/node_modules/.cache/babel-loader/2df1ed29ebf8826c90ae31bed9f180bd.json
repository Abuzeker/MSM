{"ast":null,"code":"import React from 'react';\nimport { RealtimeData_Request } from '../api';\nimport moment from 'moment';\nexport const DataSortRT = response => {\n  if (response.success !== false) {\n    const data = response.Data;\n    let DataReturn = data.map(obj => {\n      let cobj = [];\n      let ar0 = moment(obj.fields.LastChange).utc(true).format('MM/DD HH:mm:ss').split(' ');\n      cobj = {\n        'time': ar0[1] + ' (' + ar0[0] + ')',\n        'Label': obj.fields.DisplayLabel,\n        'Value': obj.fields.Value,\n        'SV': obj.fields.SetValue,\n        'Line': obj.fields.Line,\n        'key': obj.fields.Label,\n        'Page': obj.fields.Page,\n        'label': obj.fields.Label\n      };\n      return cobj;\n    });\n    console.log(DataReturn);\n    return DataReturn;\n  } else {\n    console.log('Data Request Error');\n  }\n};\n_c = DataSortRT;\nexport const DataMapping = (Datamodel, RawData) => {\n  const name = Object.keys(Datamodel);\n  let ReturnValue = Datamodel;\n  console.log(ReturnValue['Zone 1 Temp Control']);\n  name.forEach(element => {\n    let DataFound = RawData.find(_ref => {\n      let {\n        Label\n      } = _ref;\n      return Label === element;\n    });\n\n    try {\n      //    console.log(DataFound.Label);\n      //    console.log(DataFound.Value);\n      ReturnValue[`${element}`].PV = DataFound.Value;\n      ReturnValue[`${element}`].SV = DataFound.SV; //console.log(ReturnValue[`${element}`]);\n    } catch {\n      console.log('None');\n    }\n  });\n  console.log(ReturnValue);\n  return ReturnValue;\n};\n_c2 = DataMapping;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"DataSortRT\");\n$RefreshReg$(_c2, \"DataMapping\");","map":{"version":3,"sources":["C:/Users/tzika/Desktop/Polymerlink-Front/polymerlink-2/src/DataRequest/RealTimeRequestWrap.js"],"names":["React","RealtimeData_Request","moment","DataSortRT","response","success","data","Data","DataReturn","map","obj","cobj","ar0","fields","LastChange","utc","format","split","DisplayLabel","Value","SetValue","Line","Label","Page","console","log","DataMapping","Datamodel","RawData","name","Object","keys","ReturnValue","forEach","element","DataFound","find","PV","SV"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,oBAAT,QAAqC,QAArC;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAGA,OAAO,MAAMC,UAAU,GAAIC,QAAD,IAAc;AAEpC,MAAIA,QAAQ,CAACC,OAAT,KAAqB,KAAzB,EAAgC;AAC5B,UAAMC,IAAI,GAAGF,QAAQ,CAACG,IAAtB;AAEA,QAAIC,UAAU,GAAGF,IAAI,CAACG,GAAL,CAASC,GAAG,IAAI;AAC7B,UAAIC,IAAI,GAAG,EAAX;AACA,UAAIC,GAAG,GAAGV,MAAM,CAACQ,GAAG,CAACG,MAAJ,CAAWC,UAAZ,CAAN,CAA8BC,GAA9B,CAAkC,IAAlC,EAAwCC,MAAxC,CAA+C,gBAA/C,EAAiEC,KAAjE,CAAuE,GAAvE,CAAV;AAEAN,MAAAA,IAAI,GAAG;AACH,gBAAQC,GAAG,CAAC,CAAD,CAAH,GAAS,IAAT,GAAgBA,GAAG,CAAC,CAAD,CAAnB,GAAyB,GAD9B;AAEH,iBAASF,GAAG,CAACG,MAAJ,CAAWK,YAFjB;AAGH,iBAASR,GAAG,CAACG,MAAJ,CAAWM,KAHjB;AAIH,cAAMT,GAAG,CAACG,MAAJ,CAAWO,QAJd;AAKH,gBAAQV,GAAG,CAACG,MAAJ,CAAWQ,IALhB;AAMH,eAAOX,GAAG,CAACG,MAAJ,CAAWS,KANf;AAOH,gBAAQZ,GAAG,CAACG,MAAJ,CAAWU,IAPhB;AAQH,iBAASb,GAAG,CAACG,MAAJ,CAAWS;AARjB,OAAP;AAUA,aAAOX,IAAP;AACH,KAfgB,CAAjB;AAgBAa,IAAAA,OAAO,CAACC,GAAR,CAAYjB,UAAZ;AACA,WAAOA,UAAP;AACH,GArBD,MAsBK;AACDgB,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACH;AACJ,CA3BM;KAAMtB,U;AA8Bb,OAAO,MAAMuB,WAAW,GAAG,CAACC,SAAD,EAAYC,OAAZ,KAAwB;AAE/C,QAAMC,IAAI,GAAGC,MAAM,CAACC,IAAP,CAAYJ,SAAZ,CAAb;AACA,MAAIK,WAAW,GAAGL,SAAlB;AAEAH,EAAAA,OAAO,CAACC,GAAR,CAAYO,WAAW,CAAC,qBAAD,CAAvB;AAEAH,EAAAA,IAAI,CAACI,OAAL,CAAaC,OAAO,IAAI;AACpB,QAAIC,SAAS,GAAGP,OAAO,CAACQ,IAAR,CAAa;AAAA,UAAC;AAAEd,QAAAA;AAAF,OAAD;AAAA,aAAeA,KAAK,KAAKY,OAAzB;AAAA,KAAb,CAAhB;;AACA,QAAI;AACA;AACA;AACAF,MAAAA,WAAW,CAAE,GAAEE,OAAQ,EAAZ,CAAX,CAA0BG,EAA1B,GAA+BF,SAAS,CAAChB,KAAzC;AACAa,MAAAA,WAAW,CAAE,GAAEE,OAAQ,EAAZ,CAAX,CAA0BI,EAA1B,GAA+BH,SAAS,CAACG,EAAzC,CAJA,CAMA;AACH,KAPD,CAQA,MAAM;AACFd,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACH;AAEJ,GAdD;AAgBAD,EAAAA,OAAO,CAACC,GAAR,CAAYO,WAAZ;AACA,SAAOA,WAAP;AACH,CAzBM;MAAMN,W","sourcesContent":["import React from 'react'\r\nimport { RealtimeData_Request } from '../api'\r\nimport moment from 'moment';\r\n\r\n\r\nexport const DataSortRT = (response) => {\r\n\r\n    if (response.success !== false) {\r\n        const data = response.Data\r\n\r\n        let DataReturn = data.map(obj => {\r\n            let cobj = []\r\n            let ar0 = moment(obj.fields.LastChange).utc(true).format('MM/DD HH:mm:ss').split(' ')\r\n\r\n            cobj = {\r\n                'time': ar0[1] + ' (' + ar0[0] + ')',\r\n                'Label': obj.fields.DisplayLabel,\r\n                'Value': obj.fields.Value,\r\n                'SV': obj.fields.SetValue,\r\n                'Line': obj.fields.Line,\r\n                'key': obj.fields.Label,\r\n                'Page': obj.fields.Page,\r\n                'label': obj.fields.Label,\r\n            }\r\n            return cobj\r\n        })\r\n        console.log(DataReturn);\r\n        return DataReturn\r\n    }\r\n    else {\r\n        console.log('Data Request Error');\r\n    }\r\n}\r\n\r\n\r\nexport const DataMapping = (Datamodel, RawData) => {\r\n\r\n    const name = Object.keys(Datamodel)\r\n    let ReturnValue = Datamodel\r\n\r\n    console.log(ReturnValue['Zone 1 Temp Control']);\r\n\r\n    name.forEach(element => {\r\n        let DataFound = RawData.find(({ Label }) => Label === element)\r\n        try {\r\n            //    console.log(DataFound.Label);\r\n            //    console.log(DataFound.Value);\r\n            ReturnValue[`${element}`].PV = DataFound.Value\r\n            ReturnValue[`${element}`].SV = DataFound.SV\r\n\r\n            //console.log(ReturnValue[`${element}`]);\r\n        }\r\n        catch {\r\n            console.log('None');\r\n        }\r\n\r\n    });\r\n\r\n    console.log(ReturnValue);\r\n    return ReturnValue\r\n}\r\n"]},"metadata":{},"sourceType":"module"}