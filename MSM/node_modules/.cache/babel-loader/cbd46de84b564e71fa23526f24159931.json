{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tzika\\\\Desktop\\\\MSM-Front\\\\MSM\\\\src\\\\pages\\\\Login\\\\Login.jsx\";\nimport { Form, Input, Button, Checkbox, Card, message } from 'antd';\nimport './Login.css';\nimport logo from '../../assets/poly2.png';\nimport memoryUtils from '../../utils/memoryUtils';\nimport storageUtils from '../../utils/storageUtils';\nimport { Redirect } from \"react-router-dom\";\nimport React, { Component } from 'react';\nimport { LoginBackend, MSM_Login } from '../../api/index'; // const result = {\n//     status: 0,\n//     data: 'tan',\n//     msg: 'salah pass lah!'\n// }\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class Login extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.onFinish = async values => {\n      const {\n        username,\n        password\n      } = values;\n      const result = await MSM_Login(username, password);\n      console.log(result.user);\n\n      if (result.user.projectID === 'MSM') {\n        //success\n        console.log('success'); // save user info to local\n\n        const user = {\n          name: username,\n          site: 'All',\n          role: 'Operator',\n          autolevel: 2\n        };\n        memoryUtils.user = user;\n        storageUtils.saveUser(user);\n        message.success('Login Success');\n        this.props.history.replace('/');\n      } else {\n        //wrong pass or name\n        console.log(result);\n        message.error(result);\n      }\n    };\n\n    this.onFinishFailed = errorInfo => {\n      console.log('Failed:', errorInfo);\n    };\n  }\n\n  render() {\n    const user = memoryUtils.user;\n\n    if (Object.keys(user).length !== 0) {\n      console.log('smtg');\n      console.log(Object.keys(user).length);\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        push: true,\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 20\n      }, this); // return <Redirect to='/' />\n    } else {\n      console.log('ntg');\n      console.log(Object.keys(user).length);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"login-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          alt: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"MSM\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"login-content\",\n        children: /*#__PURE__*/_jsxDEV(\"section\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            name: \"basic\",\n            labelCol: {\n              span: 8\n            },\n            wrapperCol: {\n              span: 16\n            },\n            initialValues: {\n              remember: true\n            },\n            onFinish: this.onFinish,\n            onFinishFailed: this.onFinishFailed,\n            autoComplete: \"off\",\n            className: \"login-form\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n              label: \"Username\",\n              name: \"username\",\n              rules: [{\n                required: true,\n                message: 'Please input your username!'\n              }],\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              label: \"Password\",\n              name: \"password\",\n              rules: [{\n                required: true,\n                message: 'Please input your password!'\n              }],\n              children: /*#__PURE__*/_jsxDEV(Input.Password, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              wrapperCol: {\n                offset: 8,\n                span: 16\n              },\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"primary\",\n                htmlType: \"submit\",\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this);\n  }\n\n}\nexport default Login;","map":{"version":3,"sources":["C:/Users/tzika/Desktop/MSM-Front/MSM/src/pages/Login/Login.jsx"],"names":["Form","Input","Button","Checkbox","Card","message","logo","memoryUtils","storageUtils","Redirect","React","Component","LoginBackend","MSM_Login","Login","onFinish","values","username","password","result","console","log","user","projectID","name","site","role","autolevel","saveUser","success","props","history","replace","error","onFinishFailed","errorInfo","render","Object","keys","length","span","remember","required","offset"],"mappings":"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","sourcesContent":["import { Form, Input, Button, Checkbox, Card, message } from 'antd';\r\nimport './Login.css'\r\nimport logo from '../../assets/poly2.png'\r\nimport memoryUtils from '../../utils/memoryUtils'\r\nimport storageUtils from '../../utils/storageUtils'\r\nimport { Redirect} from \"react-router-dom\"\r\nimport React, { Component } from 'react'\r\nimport { LoginBackend, MSM_Login } from '../../api/index'\r\n\r\n// const result = {\r\n//     status: 0,\r\n//     data: 'tan',\r\n//     msg: 'salah pass lah!'\r\n// }\r\n\r\nexport class Login extends Component {\r\n\r\n    onFinish = async (values) => {\r\n\r\n        const { username, password } = values\r\n\r\n        const result = await MSM_Login(username, password)\r\n\r\n        console.log(result.user);\r\n\r\n        if (result.user.projectID === 'MSM') { //success\r\n\r\n            console.log('success');\r\n\r\n            // save user info to local\r\n            const user = {\r\n                name: username,\r\n                site: 'All',\r\n                role: 'Operator',\r\n                autolevel: 2\r\n            }\r\n            memoryUtils.user = user\r\n            storageUtils.saveUser(user)\r\n            message.success('Login Success')\r\n            this.props.history.replace('/')\r\n        }\r\n\r\n        else { //wrong pass or name\r\n            console.log(result);\r\n            message.error(result)\r\n        }\r\n\r\n    };\r\n\r\n    onFinishFailed = (errorInfo) => {\r\n        console.log('Failed:', errorInfo);\r\n    };\r\n\r\n    render() {\r\n        const user = memoryUtils.user\r\n        if (Object.keys(user).length !== 0) {\r\n            console.log('smtg')\r\n            console.log(Object.keys(user).length)\r\n\r\n            return <Redirect push to=\"/\" />\r\n            // return <Redirect to='/' />\r\n        }\r\n        else {\r\n            console.log('ntg')\r\n            console.log(Object.keys(user).length)\r\n        }\r\n\r\n        return (\r\n            <div className='login'>\r\n\r\n                <header className=\"login-header\">\r\n                    <img src={logo} alt=\"logo\" />\r\n                    <h1>MSM</h1>\r\n                </header>\r\n\r\n                <Card className=\"login-content\">\r\n\r\n                    <section >\r\n                        <h2>Login</h2>\r\n\r\n                        <Form\r\n                            name=\"basic\"\r\n                            labelCol={{\r\n                                span: 8,\r\n                            }}\r\n                            wrapperCol={{\r\n                                span: 16,\r\n                            }}\r\n                            initialValues={{\r\n                                remember: true,\r\n                            }}\r\n                            onFinish={this.onFinish}\r\n                            onFinishFailed={this.onFinishFailed}\r\n                            autoComplete=\"off\"\r\n                            className=\"login-form\"\r\n                        >\r\n                            <Form.Item\r\n                                label=\"Username\"\r\n                                name=\"username\"\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: 'Please input your username!',\r\n                                    },\r\n                                ]}\r\n                            >\r\n                                <Input />\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                label=\"Password\"\r\n                                name=\"password\"\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: 'Please input your password!',\r\n                                    },\r\n                                ]}\r\n                            >\r\n                                <Input.Password />\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                wrapperCol={{\r\n                                    offset: 8,\r\n                                    span: 16,\r\n                                }}\r\n                            >\r\n                                <Button type=\"primary\" htmlType=\"submit\">\r\n                                    Login\r\n                                </Button>\r\n                            </Form.Item>\r\n                        </Form>\r\n                    </section>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login\r\n"]},"metadata":{},"sourceType":"module"}